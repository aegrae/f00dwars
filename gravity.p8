pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
x = 64
y = 64
x_vel = 0
y_vel = 0
g_dir = 3
g = -0.3

x_min = 0
x_max = 127 - 8
y_min = 0
y_max = 127 - 8

function _update()
 change_gravity()
 apply_gravity()
end

function _draw()
	cls()
 spr(0,x,y)
end

function change_gravity()
	if btnp(0) then g_dir=0 end
	if btnp(1) then g_dir=1 end
	if btnp(2) then g_dir=2 end
	if btnp(3) then g_dir=3 end
	if btnp(0) or
	   btnp(1) or
	   btnp(2) or
	   btnp(3) then
	 vel = 0
	end
end

function apply_gravity()
 if g_dir == 0 then
  x_vel = x_vel + g
 end
 if g_dir == 1 then
  x_vel = x_vel - g
 end
 if g_dir == 2 then
  y_vel = y_vel + g
 end
 if g_dir == 3 then
  y_vel = y_vel - g
 end
 
 x = x + x_vel
 y = y + y_vel
 
 if x < x_min then
  x = x_min
  x_vel = 0
 end
 if x > x_max then
  x = x_max
  x_vel = 0
 end
 if y < y_min then
  y = y_min
  y_vel = 0
 end
 if y > y_max then
  y = y_max
  y_vel = 0
 end
end
__gfx__
00000b0000ffff000033330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000bb00ffffff00333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000099bbfff00fff3333333300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00099900ff0000ff3333333300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00999900ff0000ff0303303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
09999000fff00fff0003300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
099000000ffffff00003300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9900000000ffff000003300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
baaaaaaaaaaaaaaaaaaaaaa900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c0000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b3333333333333333333333e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0010111111111111120000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0020000000000000220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0020000000000000220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0020000000000000220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0020000000000000220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0020000000000000220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0020000000000000220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0030313131313131320000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
